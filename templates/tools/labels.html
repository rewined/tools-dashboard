{% extends "toolkit_base.html" %}

{% block title %}Label Printer - Team Toolkit{% endblock %}
{% block nav_title %}Label Printer{% endblock %}

{% block content %}
<div class="main-section">
    <div class="items-grid" id="itemsGrid">
        <div class="item-row">
            <input type="text" placeholder="SKU" class="form-control sku-input" data-row="0">
            <input type="number" placeholder="Price" step="0.01" min="0" class="form-control price-input" data-row="0">
            <input type="number" placeholder="QTY" min="1" value="1" class="form-control qty-input" data-row="0">
            <button onclick="removeRow(0)" class="btn-remove" style="visibility: hidden;">×</button>
        </div>
    </div>
    
    <button onclick="addRow()" class="btn-add">+ Add Item</button>
    
    <div class="controls">
        <select id="formatSelect" class="form-control">
            {% for key, format in formats.items() %}
            <option value="{{ key }}">{{ format.name }}</option>
            {% endfor %}
        </select>
        <button onclick="generateLabels()" class="btn-generate">Generate Labels</button>
    </div>
</div>

<div class="csv-upload-section">
    <div class="upload-area" id="uploadArea">
        <span class="upload-text">Drop CSV here or click to upload</span>
        <input type="file" id="fileInput" accept=".csv" style="display: none;">
    </div>
</div>

<div id="resultSection" class="result-section" style="display: none;">
    <div class="success-message">
        <h3>✓ Labels Generated!</h3>
        <p id="resultMessage"></p>
        <div class="button-group">
            <a id="downloadBtn" href="#" class="btn-primary" download>Download PDF</a>
            <button onclick="resetForm()" class="btn-secondary">Generate More</button>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/labels.js') }}"></script>
{% endblock %}